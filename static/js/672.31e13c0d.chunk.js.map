{"version":3,"file":"static/js/672.31e13c0d.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/modules/components/FilmsList/FilmsList.module.scss?2bee","modules/components/FilmsList/FilmsList.jsx","webpack://react-homework-template/./src/modules/components/MoviesSearchForm/MoviesSearchForm.module.scss?1209","modules/components/MoviesSearchForm/MoviesSearchForm.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.scss?5412","pages/MoviesPage/MoviesPage.jsx","webpack://react-homework-template/./src/shared/components/Buttons/Buttons.module.scss?2a51","shared/components/Buttons/Buttons.jsx","webpack://react-homework-template/./src/shared/components/Loader/loader.module.scss?acdf","shared/components/Loader/Loader.jsx","webpack://react-homework-template/./src/shared/components/Section/section.module.scss?ba5b","shared/components/Section/Section.jsx","shared/services/film-app.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"FilmsList_item__+wMaw\",\"link\":\"FilmsList_link__K+Gli\",\"list\":\"FilmsList_list__4lry1\"};","import PropTypes from 'prop-types';\nimport { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport scss from './FilmsList.module.scss';\n\nconst FilmsList = ({ items }) => {\n  const location = useLocation();\n  const elements = items.map(({ id, title }) => (\n    <li className={scss.item} key={id}>\n      <Link\n        className={scss.link}\n        to={`/movies/${id}`}\n        state={{ from: location }}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n  return <ul className={scss.list}>{elements}</ul>;\n};\n\nexport default memo(FilmsList);\n\nFilmsList.defaultProps = {\n  items: [],\n};\n\nFilmsList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"MoviesSearchForm_input__fO5zY\",\"btn\":\"MoviesSearchForm_btn__lRJgi\",\"form\":\"MoviesSearchForm_form__ZNIGa\"};","import PropTypes from 'prop-types';\nimport { useState, memo } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { IoSearch } from 'react-icons/io5';\nimport { IconContext } from 'react-icons';\nimport scss from './MoviesSearchForm.module.scss';\n\nconst MoviesSearchForm = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = ({ target }) => {\n    const { value } = target;\n    setSearch(value.trim());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (search === '') {\n      toast.info('Enter a search term.');\n      return;\n    }\n    onSubmit({ search });\n    setSearch('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={scss.form}>\n      <input\n        className={scss.input}\n        value={search}\n        onChange={handleChange}\n        name=\"search\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      ></input>\n      <button type=\"submit\" className={scss.btn}>\n        <IconContext.Provider\n          value={{\n            style: { width: '20px', height: '20px', fill: '#121212' },\n          }}\n        >\n          <IoSearch />\n        </IconContext.Provider>\n      </button>\n    </form>\n  );\n};\n\nexport default memo(MoviesSearchForm);\n\nMoviesSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"MoviesPage_title__HXjK3\"};","import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getMoviesSearch } from 'shared/services/film-app';\nimport Section from 'shared/components/Section/Section';\nimport MoviesSearchForm from 'modules/components/MoviesSearchForm/MoviesSearchForm';\nimport Loader from 'shared/components/Loader/Loader';\nimport FilmsList from 'modules/components/FilmsList/FilmsList';\nimport Buttons from 'shared/components/Buttons/Buttons';\nimport scss from './MoviesPage.module.scss';\n\nconst MoviesPage = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    if (search === '' || search === null) {\n      return;\n    }\n\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const data = await getMoviesSearch(page, search);\n        setItems(data.results);\n        if (!data.results.length) {\n          toast.info('Sorry, no results were found for your search(');\n        }\n      } catch ({ response }) {\n        toast.error(response.data.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [page, search]);\n\n  const onSearchMovies = useCallback(\n    ({ search }) => {\n      setSearchParams({ search, page: 1 });\n      setItems([]);\n    },\n    [setSearchParams]\n  );\n\n  const nextPage = useCallback(() => {\n    if (page > 0) {\n      setSearchParams({ search, page: Number(page) + 1 });\n    }\n  }, [search, page, setSearchParams]);\n\n  const previousPage = useCallback(() => {\n    setSearchParams({ search, page: Number(page) - 1 });\n  }, [search, page, setSearchParams]);\n\n  return (\n    <Section>\n      <MoviesSearchForm onSubmit={onSearchMovies}></MoviesSearchForm>\n      <h1 className={scss.title}>\n        {items.length > 0\n          ? `Search results: ${search}`\n          : 'Please start searching'}\n      </h1>\n      {loading && <Loader />}\n      {items.length > 0 && !loading && <FilmsList items={items} />}\n      {items.length > 0 && !loading && (\n        <Buttons page={page} nextPage={nextPage} previousPage={previousPage} />\n      )}\n    </Section>\n  );\n};\n\nexport default MoviesPage;","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Buttons_button__QG7Yg\",\"btnBox\":\"Buttons_btnBox__XQz-f\",\"text\":\"Buttons_text__7kwX9\"};","import PropTypes from 'prop-types';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport { AiOutlineArrowRight } from 'react-icons/ai';\nimport { IconContext } from 'react-icons';\nimport scss from './Buttons.module.scss';\n\nconst Buttons = ({ page, previousPage, nextPage }) => {\n  return (\n    <div className={scss.btnBox}>\n      {page > 1 && (\n        <button className={scss.button} type=\"button\" onClick={previousPage}>\n          <IconContext.Provider\n            value={{\n              style: { width: '20px', height: '20px', fill: '#cb0000' },\n            }}\n          >\n            <AiOutlineArrowLeft />\n          </IconContext.Provider>\n        </button>\n      )}\n\n      {<p className={scss.text}>{page}</p>}\n      <button className={scss.button} type=\"button\" onClick={nextPage}>\n        <IconContext.Provider\n          value={{\n            style: { width: '20px', height: '20px', fill: '#cb0000' },\n          }}\n        >\n          <AiOutlineArrowRight />\n        </IconContext.Provider>\n      </button>\n    </div>\n  );\n};\n\nexport default Buttons;\n\nButtons.propTypes = {\n  page: PropTypes.string.isRequired,\n  previousPage: PropTypes.func.isRequired,\n  nextPage: PropTypes.func.isRequired,\n};","// extracted by mini-css-extract-plugin\nexport default {\"box\":\"loader_box__PwN30\"};","import { RotatingLines } from 'react-loader-spinner';\nimport scss from './loader.module.scss';\n\nconst Loader = () => {\n  return (\n    <div className={scss.box}>\n      <RotatingLines\n        strokeColor=\"#ff0000\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"96\"\n        visible={true}\n      />\n    </div>\n  );\n};\n\nexport default Loader;","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"section_section__esffj\"};","import PropTypes from 'prop-types';\nimport scss from './section.module.scss';\n\nfunction Section({ children }) {\n  return <section className={scss.section}>{children}</section>;\n}\n\nexport default Section;\n\nSection.propTypes = {\n  children: PropTypes.any,\n};","import axios from 'axios';\n\nconst KEY = 'b0b4fd1b10f37d2fc7069fdd28d61a74';\nexport const baseImgUrl = 'https://image.tmdb.org/t/p/w500';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: KEY,\n    language: 'en-US',\n  },\n});\n\nexport const getMoviesPopular = async (page = 1) => {\n  const { data } = await instance.get('trending/movie/day', {\n    params: {\n      page,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieDetails = async (id, path) => {\n  const { data } = await instance.get(`movie/${id}${path}`);\n  return data;\n};\n\nexport const getMoviesSearch = async (page = 1, query) => {\n  const { data } = await instance.get('search/movie', {\n    params: {\n      page,\n      query,\n      sort_by: 'popularity.desc',\n    },\n  });\n  return data;\n};"],"names":["FilmsList","items","location","useLocation","elements","map","id","title","className","scss","to","state","from","memo","defaultProps","MoviesSearchForm","onSubmit","useState","search","setSearch","e","preventDefault","toast","value","onChange","target","trim","name","type","autoComplete","autoFocus","placeholder","style","width","height","fill","setItems","loading","setLoading","useSearchParams","searchParams","setSearchParams","get","page","useEffect","fetchMovies","getMoviesSearch","data","results","length","response","message","onSearchMovies","useCallback","nextPage","Number","previousPage","Section","Loader","Buttons","onClick","strokeColor","strokeWidth","animationDuration","visible","children","baseImgUrl","instance","axios","baseURL","params","api_key","language","getMoviesPopular","fetchMovieDetails","path","query","sort_by"],"sourceRoot":""}